
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>2019 Spring Summit &#8212; AMC Traffic Server Documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2018 Fall Summit" href="ATS-2018-Fall-Summit.en.html" />
    <link rel="prev" title="Partial Caching Initial Design" href="../poc/archive-partial-object-caching-prototype.en.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ATS-2018-Fall-Summit.en.html" title="2018 Fall Summit"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../poc/archive-partial-object-caching-prototype.en.html" title="Partial Caching Initial Design"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SWOC Docs</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/balcora-gate-400x400.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2019 Spring Summit</a><ul>
<li><a class="reference internal" href="#opening-remarks">Opening remarks</a></li>
<li><a class="reference internal" href="#plugin-api-and-webassembly">Plugin API and WebAssembly</a></li>
<li><a class="reference internal" href="#quic-updates">QUIC Updates</a></li>
<li><a class="reference internal" href="#quic-deployment">QUIC Deployment</a></li>
<li><a class="reference internal" href="#footnotes">Footnotes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../poc/archive-partial-object-caching-prototype.en.html"
                        title="previous chapter">Partial Caching Initial Design</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ATS-2018-Fall-Summit.en.html"
                        title="next chapter">2018 Fall Summit</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/ATS-2019-Spring-Summit.en.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="spring-summit">
<h1>2019 Spring Summit<a class="headerlink" href="#spring-summit" title="Permalink to this headline">¶</a></h1>
<p>These are my notes from the 2019 Spring Summit in Beijing.</p>
<div class="section" id="opening-remarks">
<h2>Opening remarks<a class="headerlink" href="#opening-remarks" title="Permalink to this headline">¶</a></h2>
<p>The primary message was we as a community need to do better about testing at production levels.
Bringing ATS 8.0.x to production quality has been a long struggle and 8.1.x is not going well either.
A problem I see is that as the production testing takes longer, the difference between the LTS release
and the next release gets larger, which makes the whole process take longer. This is a degenerative
spiral that will end badly.</p>
<p>We need to do better about reviewing pull requests, in particular to get reviews across company
silos. I think people should do this also because it’s good for the reviewer.</p>
</div>
<div class="section" id="plugin-api-and-webassembly">
<h2>Plugin API and WebAssembly<a class="headerlink" href="#plugin-api-and-webassembly" title="Permalink to this headline">¶</a></h2>
<p>Web assembly is the new fad of a byte code executor which can be run in a web browser. The
ostensible point is to subsume the variety of languages currently used in active web pages to a
single basic feature <a class="footnote-reference brackets" href="#zend" id="id1">1</a>. Developers would be able to write code in a variety of lanagues, which is
condensed to byte code and then executed in a engine based run time environment.</p>
<p>Kit is concerned about the long term viability of the Lua community, given that luajit and other
libraries have been abandoned. If ATS has a WebAssembly engine, then plugins could be done the
same way.</p>
<p>All of this is still very wide open - many different incompatible tool chains floating around.</p>
<p>It occurs to me as I write this that there may be some performance implications. It’s hard to
believe the byte code machine can be as fast as native C code. We have some plugins where plugin
performance is a significant issue.</p>
</div>
<div class="section" id="quic-updates">
<h2>QUIC Updates<a class="headerlink" href="#quic-updates" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>HTTP over QUIC is now ‘HTTP/3”.</p>
<blockquote>
<div><ul class="simple">
<li><p>Multipath is coming, but final docuemnt not due until May 2020.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Still targeting ATS 9.0.</p>
<ul class="simple">
<li><p>OpenSSL doesn’t support API required for QUIC (any supported release at this time). Masaori
said there are not current plans to ever support this API. This would require a custome openSSL
build for ATS to use openSSL and QUIC.</p></li>
<li><p>BoringSSL has QUIC API.</p></li>
<li><p>Results from IETF 103, 104 QUIC WG tested against 16 other versions.</p>
<ul>
<li><p>Depending HTTP/2 outbound for certain client side features.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Working on performance improvements, implementation was very slow.</p></li>
<li><p>Cleanup of loading certificates from “ssl_multicert.config”.</p></li>
<li><p>Review is going to be hard - already 43K lines changed.</p></li>
</ul>
<p>There was a long discussion on how and when to bring this in to master.</p>
<ul class="simple">
<li><p>A key issue is how many changes are expected in the future. Moving to master will mean a large
slow down in commit speed, because reviews will be required for each PR. Currently the QUIC branch
has 1300 commits over two years, which is a very high velocity for this project.</p></li>
</ul>
<p>One problem is that if QUIC doesn’t go in to ATS 9, it will be another 12-18 months before it is
released in a supported version.</p>
</div>
<div class="section" id="quic-deployment">
<h2>QUIC Deployment<a class="headerlink" href="#quic-deployment" title="Permalink to this headline">¶</a></h2>
<p>Reasons for QUIC</p>
<ul class="simple">
<li><p>RTT costs.</p></li>
<li><p>Head of Line blocking</p></li>
<li><p>Mobile connection switching vs. QUIC routing. Possibly load balancers can route by DCID embedded
in QUIC packets. Unclear this is commerciall available without local changes. DCID contents
encode the <code class="docutils literal notranslate"><span class="pre">ET_NET</span></code> thread in this deployment. <code class="docutils literal notranslate"><span class="pre">UDP_NET</span></code> threads get packets at random
and reschedule to the appropriate <code class="docutils literal notranslate"><span class="pre">ET_NET</span></code> thread.</p></li>
</ul>
<p>Using “BRR” congestion control vs. “New Reno” which is the IETF QUIC recommendation. Claims 10x
speed improvement for transfering 1MB in 5% packet loss environment. This approximates some third
world networks.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">SSL_OP_NO_ANTI_REPLAY</span></code>. Getting 79% ~ 98% sessions reuse for 0-RTT.</p>
</div>
<div class="section" id="footnotes">
<h2>Footnotes<a class="headerlink" href="#footnotes" title="Permalink to this headline">¶</a></h2>
<dl class="footnote brackets">
<dt class="label" id="zend"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>This reminds me very much of <a class="reference external" href="https://www.php.net/manual/en/internals2.ze1.php">Zend Project</a>.
I’m not sure why this wasn’t used, but maybe it was.</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ATS-2018-Fall-Summit.en.html" title="2018 Fall Summit"
             >next</a> |</li>
        <li class="right" >
          <a href="../poc/archive-partial-object-caching-prototype.en.html" title="Partial Caching Initial Design"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SWOC Docs</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, amc@apache.org.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>