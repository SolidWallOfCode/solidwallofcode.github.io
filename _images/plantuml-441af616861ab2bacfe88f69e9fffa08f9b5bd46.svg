<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="700px" preserveAspectRatio="none" style="width:471px;height:700px;" version="1.1" viewBox="0 0 471 700" width="471px" zoomAndPan="magnify"><defs><filter height="300%" id="fbcuapdp5oeph" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="34" cy="33" fill="#000000" filter="url(#fbcuapdp5oeph)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="79" y="8"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="79" x2="213" y1="34.2969" y2="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="105" y="25.9951">ServerOpen</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="84" y="50.4355">Create Strategizer</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="248" y="8"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="248" x2="400" y1="34.2969" y2="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="258" y="25.9951">WaitForTransaction</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="148.5" y="135"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="148.5" x2="341.5" y1="161.2969" y2="161.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="158.5" y="152.9951">HandleServerTransaction</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="153.5" y="177.4355">Send request</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="146.5" y="246"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="146.5" x2="341.5" y1="272.2969" y2="272.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="165.5" y="263.9951">ReadResponseHeader</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="151.5" y="288.4355">Wait for upstream response</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="151.5" y="373"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="151.5" x2="340.5" y1="399.2969" y2="399.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="161.5" y="390.9951">HandleResponseHeader</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="162" x="156.5" y="415.4355">Read and validate header</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="18" y="484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="18" x2="200" y1="510.2969" y2="510.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="28" y="501.9951">ReportServerResponse</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="23" y="526.4355">Report to stategizer</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="23" y="540.4043">Get next action</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="330.5" y="484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="330.5" x2="459.5" y1="510.2969" y2="510.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="341.5" y="501.9951">DrainResponse</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="335.5" y="526.4355">Drain reponse</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="335.5" y="540.4043">Signal strategizer</text><rect fill="#FEFECE" filter="url(#fbcuapdp5oeph)" height="64.2344" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="206" x="6" y="625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="212" y1="651.2969" y2="651.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="27.5" y="642.9951">HandleServerResponse</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="11" y="667.4355">Send response to User Agent</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="11" y="681.4043">Signal strategizer</text><!--link *start to ServerOpen--><path d="M44.0625,33 C53.896,33 63.7295,33 73.563,33 " fill="none" id="*start-ServerOpen" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="78.7053,33,69.7053,29,73.7053,33,69.7053,37,78.7053,33" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ServerOpen to WaitForTransaction--><path d="M213.0977,33 C222.9352,33 232.7727,33 242.6102,33 " fill="none" id="ServerOpen-WaitForTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="247.7546,33,238.7546,29,242.7546,33,238.7546,37,247.7546,33" style="stroke: #A80036; stroke-width: 1.0;"/><!--link WaitForTransaction to HandleServerTransaction--><path d="M286.6218,58.0625 C276.6009,66.4757 266.7013,76.6446 260,88 C252.6097,100.5229 248.8262,116.1526 246.903,129.6466 " fill="none" id="WaitForTransaction-HandleServerTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="246.2313,134.8952,251.3414,126.4758,246.866,129.9356,243.4061,125.4602,246.2313,134.8952" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="261" y="101.0669">SESSION_READY</text><!--link HandleServerTransaction to ReadResponseHeader--><path d="M244.7731,185.1876 C244.6248,201.6504 244.4302,223.2461 244.2734,240.6543 " fill="none" id="HandleServerTransaction-ReadResponseHeader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="244.226,245.9121,248.3071,236.9486,244.2711,240.9123,240.3074,236.8764,244.226,245.9121" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ReadResponseHeader to HandleResponseHeader--><path d="M244.3951,296.0911 C244.7197,316.7035 245.1805,345.9647 245.5252,367.8484 " fill="none" id="ReadResponseHeader-HandleResponseHeader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="245.6057,372.961,249.4633,363.899,245.5268,367.9616,241.4643,364.0252,245.6057,372.961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="247" y="339.0669">HTTP response</text><!--link ReadResponseHeader to ReportServerResponse--><path d="M149.6948,296.0164 C110.834,311.4806 69.6684,335.7363 47,373 C26.0714,407.4037 50.4272,450.1328 74.4904,479.8817 " fill="none" id="ReadResponseHeader-ReportServerResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="77.7257,483.8083,75.09,474.3187,74.5463,479.9493,68.9156,479.4057,77.7257,483.8083" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="48" y="402.5669">network error</text><!--link ReportServerResponse to DrainResponse--><path d="M200.2785,516 C240.7996,516 287.7242,516 325.355,516 " fill="none" id="ReportServerResponse-DrainResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="330.366,516,321.366,512,325.366,516,321.366,520,330.366,516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="218.25" y="509.0669">ACTION: RETRY</text><!--link DrainResponse to WaitForTransaction--><path d="M395,483.9472 C395,460.2146 395,427.0903 395,398 C395,160 395,160 395,160 C395,126.5395 389.3976,117.1672 373,88 C367.8296,78.8033 360.9028,69.8221 353.8887,61.8727 " fill="none" id="DrainResponse-WaitForTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="350.4456,58.0567,353.5048,67.4184,353.795,61.769,359.4444,62.0593,350.4456,58.0567" style="stroke: #A80036; stroke-width: 1.0;"/><!--link HandleResponseHeader to ReportServerResponse--><path d="M216.9458,423.0248 C197.5728,439.711 171.8142,461.8972 150.3183,480.412 " fill="none" id="HandleResponseHeader-ReportServerResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="146.3567,483.8242,155.7864,480.9817,150.1452,480.5612,150.5657,474.92,146.3567,483.8242" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ReportServerResponse to HandleServerResponse--><path d="M109,548.3482 C109,569.5745 109,597.4037 109,619.5832 " fill="none" id="ReportServerResponse-HandleServerResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="109,624.8023,113,615.8023,109,619.8023,105,615.8023,109,624.8023" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="110" y="591.0669">ACTION: DONE</text><!--
@startuml
[*] -> ServerOpen
ServerOpen -> WaitForTransaction
WaitForTransaction - -> HandleServerTransaction : SESSION_READY
HandleServerTransaction - -> ReadResponseHeader
ReadResponseHeader - -> HandleResponseHeader : HTTP response
ReadResponseHeader -> ReportServerResponse : network error
ReportServerResponse -> DrainResponse : ACTION: RETRY
DrainResponse - -> WaitForTransaction
HandleResponseHeader - -> ReportServerResponse
ReportServerResponse - -> HandleServerResponse : ACTION: DONE

state ServerOpen : Create Strategizer
HandleServerTransaction : Send request
ReadResponseHeader : Wait for upstream response
HandleResponseHeader : Read and validate header
ReportServerResponse: Report to stategizer\nGet next action
HandleServerResponse : Send response to User Agent\nSignal strategizer
DrainResponse : Drain reponse\nSignal strategizer

@enduml

PlantUML version 1.2017.18(Fri Oct 06 11:56:32 CDT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_242-b08
Operating System: Linux
OS Version: 5.5.8-100.fc30.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>